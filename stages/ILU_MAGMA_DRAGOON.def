;                        EDITED STAGE
;=============================================================
;  STAGE INFORMATION :
;
;  Game of Origin : 
;  Resolution : 320 * 240
;  Mugen Version : Winmugen Plus (compatible with Mugen 1.0)
;
;  CREDITS :
;
;  Base code generated by Cybaster's automated program :
;	--> Website : www.mugenguild.com/cybaster
;
;=============================================================
[Info]
name 		= "Volcano - Magma Dragoon"
author 		= "O Ilusionista"
; Thanks XGOD for the sprite rips
; Thanks Magma MKII for the extra sprites
; Magma Dragoon remix theme by SkytricRMX

[Camera]
startx 		= 0
starty 		= 0
boundleft 	= -480
boundright 	= 480
boundhigh 	= -240
boundlow 	= 0
boundlow 	= 0
tension 	= 50
verticalfollow 	= 1
floortension 	= 70


[PlayerInfo]
p1startx 	= -70
p1starty 	= 0
p1startz 	= 0
p1facing 	= 1
p2startx 	= 70
p2starty 	= 0
p2startz 	= 0
p2facing 	= -1
leftbound 	= -1000
rightbound 	= 1000
topbound  	= 0
botbound  	= 0

[Bound]
screenleft 	= 15
screenright 	= 15

[StageInfo]
zoffset 	= 405;164
autoturn 	= 1
resetBG 	= 0
Hires		= 0
zoffsetlink = 1

[Scaling]
topz     	= 0
botz     	= 50
topscale 	= 1
botscale 	= 1.2

[Shadow]
color 		= 0,0,0
yscale 		= .1

[Music]
bgmusic 	= sound/Mega_Man_X4_Magma_Dragoon_Redux.mp3
bgvolume 	= 255
bgmloopstart    = 446080
bgmloopend      = 3503203

[BGdef]
spr 		= stages/ILU_MAGMA_DRAGOON.sff
debugbg 	= 0

;============================ BACK

[BG BACKGROUND]
type  		= normal
spriteno 	= 1, 0
start 		= 0,-240
delta 		= 0.5,0.6
mask     	= 0

[BG black overlay]
type  		= anim
actionno = 10
start 		= 0,-240
delta 		= 0.5,0.6
mask     	= 0


[BG Lava mid lower]
type  		= anim
actionno = 7
delta 		= 0.8,0.9
mask     	= 1
tile = 1,0
tilespacing = 127, 1
sin.y = 3,300
start = 0, 127
velocity = -0.3,0

[BG Lava mid]
type  		= anim
actionno = 6
delta 		= 0.8,0.9
mask     	= 1
tile = 1,0
tilespacing = 127, 1
sin.y = 3,300
start = 0, 80
velocity = -0.3,0

[BG rock mid]
type  		= normal
spriteno 	= 2, 1
start 		= 0,-240
delta 		= 0.8,0.9
mask     	= 1
sin.y = 3,300
velocity = -0.3,0
tile = 1,0

[BG back fire]
type  		= anim
actionno = 14
start = -149, 117
delta 		= 0.8,0.9
velocity = -0.3,0
sin.y = 3,300
tile = 1,0
tilespacing = 640,0


[BG Lava burst 1]
type  		= anim
actionno = 15
delta 		= 0.8,0.9
mask     	= 1
tile = 1,0
tilespacing = 480, 1
sin.y = 3,300
start = -53, 166
velocity = -0.3,0

;============================ FLOOR

[BG FLOOR]
type  		= normal
spriteno 	= 3, 0
start 		= 0,-240
delta 		= 1,1
mask     	= 1
ID = 1

[BG Right panel]
type  		= anim
actionno = 20
start = 0, -240
delta 		= 1,1
mask     	= 1
ID = 1

[BG Bat]
type  		= anim
actionno = 21
delta 		= 1,1
mask     	= 1
start = -600, 70
sin.y = 5,40
ID = 2

[BG FLOOR smoke 1]
type  		= anim
actionno = 11
start = -219, 108
delta 		= 1,1
id = 1

[BG FLOOR smoke 2]
type  		= anim
actionno = 11
start = 370, 107
delta 		= 1,1
mask     	= 1
id = 1

[BG FLOOR smoke trail 1]
type  		= anim
actionno = 13
start = -527, 140
delta 		= 1,1
mask     	= 1
id = 1

[BG FLOOR smoke trail 2]
type  		= anim
actionno = 13
start = 108, 140
delta 		= 1,1
mask     	= 1
id = 1

[BG FLOOR smoke trail 3]
type  		= anim
actionno = 13
start = 474, 131
delta 		= 1,1
mask     	= 1
id = 1


[BG FLOOR light 1]
type  		= anim
actionno = 8
start 		= 0,-240
delta 		= 1,1
mask     	= 1
id = 1

[BG FLOOR light 2]
type  		= anim
actionno = 9
start 		= 0,-240
delta 		= 1,1
mask     	= 1
id = 1

[BG Bat float]
type  		= anim
actionno = 22
delta 		= 1,1
mask     	= 1
start = -800, 80
sin.y = 5,40
tile = 1,0
tilespacing = 6000,0
velocity = -2,0


;============================ FRONT
[BG Lava front]
type  		= anim
actionno = 6
delta 		= 1.2,1.1
mask     	= 1
tile = 1,0
tilespacing = 127, 1
sin.y = 3,300
start = 0, 219
velocity = -0.4,0
layerno = 1

[BG Lava burst 2]
type  		= anim
actionno = 15
delta 		= 1.2,1.1
mask     	= 1
tile = 1,0
tilespacing = 860, 1
sin.y = 3,300
start = -360, 233
velocity = -0.4,0
layerno = 1

[BG front fire]
type  		= anim
actionno = 14
start = -205, 237
delta 		= 1.2,1.2
tile = 1,0
tilespacing = 320,0
velocity = -0.4,0
sin.y = 3,300
layerno = 1



[BG pillar]
type  		= normal
spriteno 	= 4, 0
start 		= 0,-200
delta 		= 1.2,1.1
layerno = 1
mask     	= 1

[BG pillar anim]
type  		= anim
actionno = 4
start 		= 0,-200
delta 		= 1.2,1.1
layerno = 1
mask     	= 1


[BG overlay]
type  		= Anim
actionno = 5
start = 99, -239
delta 		= 0,0
layerno = 1
mask     	= 0

;============================================ SHAKE FX
[BGCtrlDef ground]
; reset the whole deal every 1135 ticks.
looptime = 1135
ctrlID = 1 ; Which ID this control will affect

[BGCtrl Sine off] ; Reset Sin.Y
type = SinY
value = 0,0
time = 0

[BGCtrl Sine] ; First big burst
type = SinY
value = 2,6 ; smaller period = stonger effect
time = 245

[BGCtrl Sine off]
type = SinY
value = 0,0
time = 305

[BGCtrl Sine] ; Second smaller burst
type = SinY
value = 2,10
time = 665

[BGCtrl Sine off]
type = SinY
value = 0,0
time = 710

[BGCtrl Sine] ; Third smaller burst
type = SinY
value = 2,10
time = 1075

;============================================ Bat
[BGCtrlDef Bat]
; reset the whole deal every 600 ticks.
looptime = 600
ctrlID = 2
 
; Set velocity of 2 pixels/sec rightward at time 0.
[BGCtrl Walk Right]
type = VelSet
time = 0
x = 2
 
[BGCtrl Turn to the Right]
type = Anim
time = 0
value = 21
 
; Set velocity of 2 pixels/sec leftward at time 300.
[BGCtrl Walk Left]
type = VelSet
time = 300
x = -2
 
[BGCtrl Turn to the Left]
type = Anim
time = 300
value = 22

; Pilar
[Begin Action 4]
4,1, 0,0, 12
4,2, 0,0, 12
4,3, 0,0, 12
4,4, 0,0, 12
4,5, 0,0, 12
4,4, 0,0, 12
4,3, 0,0, 12
4,2, 0,0, 12

; Overlay
[Begin Action 5]
5,0, 0,0, 10, , AS128D256
5,0, 0,0, 10, , AS112D256
5,0, 0,0, 10, , AS96D256
5,0, 0,0, 10, , AS80D256
5,0, 0,0, 10, , AS48D256
5,0, 0,0, 10, , AS32D256
5,0, 0,0, 10, , AS16D256
5,0, 0,0, 10, , AS32D256
5,0, 0,0, 10, , AS48D256
5,0, 0,0, 10, , AS80D256
5,0, 0,0, 10, , AS96D256
5,0, 0,0, 10, , AS112D256

; Lava 
[Begin Action 6]
6,0, 0,0, 6
6,1, 0,0, 6
6,2, 0,0, 6
6,3, 0,0, 6

; Lava 2
[Begin Action 7]
7,0, 0,0, 6
7,1, 0,0, 6
7,2, 0,0, 6

; Floor light 1
[Begin Action 8]
8,0, 0,0, 3, , A1
8,0, 0,0, 3, , AS256D112
8,0, 0,0, 3, , AS256D96
8,0, 0,0, 3, , AS256D80
8,0, 0,0, 3, , AS256D48
8,0, 0,0, 3, , AS256D32
8,0, 0,0, 3, , AS256D16
8,0, 0,0, 3, , AS256D32
8,0, 0,0, 3, , AS256D48
8,0, 0,0, 3, , AS256D80
8,0, 0,0, 3, , AS256D96
8,0, 0,0, 3, , AS256D112

; Floor light 2
[Begin Action 9]
-1,0, 0,0, 600
LoopStart
9,0, 0,0, 2, , AS64D256
-1,0, 0,0, 2

; Black Overlay
[Begin Action 10]
10,0, 0,0, 16, , A
10,0, 0,0, 16, , AS256D248
10,0, 0,0, 16, , AS256D240
10,0, 0,0, 16, , AS256D232
10,0, 0,0, 16, , AS256D224
10,0, 0,0, 16, , AS256D216
10,0, 0,0, 16, , AS256D208
10,0, 0,0, 16, , AS256D200
10,0, 0,0, 16, , AS256D192
10,0, 0,0, 16, , AS256D184
10,0, 0,0, 16, , AS256D176
10,0, 0,0, 16, , AS256D168
10,0, 0,0, 16, , AS256D160
10,0, 0,0, 16, , AS256D152
10,0, 0,0, 16, , AS256D144
10,0, 0,0, 16, , AS256D136
10,0, 0,0, 16, , A1
10,0, 0,0, 16, , AS256D136
10,0, 0,0, 16, , AS256D144
10,0, 0,0, 16, , AS256D152
10,0, 0,0, 16, , AS256D152
10,0, 0,0, 16, , AS256D160
10,0, 0,0, 16, , AS256D168
10,0, 0,0, 16, , AS256D176
10,0, 0,0, 16, , AS256D184
10,0, 0,0, 16, , AS256D192
10,0, 0,0, 16, , AS256D200
10,0, 0,0, 16, , AS256D208
10,0, 0,0, 16, , AS256D216
10,0, 0,0, 16, , AS256D224
10,0, 0,0, 16, , AS256D232
10,0, 0,0, 16, , AS256D240
10,0, 0,0, 16, , AS256D248

; Smoke
[Begin Action 11]
11,7, 0,0, 8
11,6, 0,0, 8
11,5, 0,0, 8
11,4, 0,0, 8
11,3, 0,0, 8
11,2, 0,0, 8
11,1, 0,0, 8
11,0, 0,0, 8

; Smoke trail
[Begin Action 13]
-1,0, 0,0, 300
13,0, 0,0, 6
13,1, 0,0, 6
13,2, 0,0, 6
13,3, 0,0, 6
13,4, 0,0, 6
13,5, 0,0, 6
13,6, 0,0, 6
13,7, 0,0, 6
13,8, 0,0, 6
13,9, 0,0, 6
13,10, 0,0, 6
13,11, 0,0, 6
13,12, 0,0, 6
13,13, 0,0, 6
13,14, 0,0, 6
13,15, 0,0, 6
-1,0, 0,0, 580, H
13,0, -24,0, 6, H
13,1, -24,0, 6, H
13,2, -24,0, 6, H
13,3, -24,0, 6, H
13,4, -24,0, 6, H
13,5, -24,0, 6, H
13,6, -24,0, 6, H
13,7, -24,0, 6, H
13,8, -24,0, 6, H
13,9, -24,0, 6, H
13,10, -24,0, 6, H
13,11, -24,0, 6, H
13,12, -24,0, 6, H
13,13, -24,0, 6, H
13,14, -24,0, 6, H
13,15, -24,0, 6, H

; Front fire
[Begin Action 14]
14,82, 0,0, 6
14,83, 0,0, 6
14,84, 0,0, 6
14,85, 0,0, 6
14,86, 0,0, 6
14,87, 0,0, 6
14,88, 0,0, 6
-1,0, 0,0, 120
14,82, 0,0, 6
14,83, 0,0, 6
14,84, 0,0, 6
14,82, 0,0, 6
14,83, 0,0, 6
14,84, 0,0, 6
14,82, 0,0, 6
14,83, 0,0, 6
14,84, 0,0, 6
14,82, 0,0, 6
14,83, 0,0, 6
14,84, 0,0, 6
14,82, 0,0, 6
14,83, 0,0, 6
14,84, 0,0, 6
14,82, 0,0, 6
14,83, 0,0, 6
14,84, 0,0, 6
14,82, 0,0, 6
14,83, 0,0, 6
14,84, 0,0, 6
14,82, 0,0, 6
14,83, 0,0, 6
14,84, 0,0, 6
14,85, 0,0, 6
14,86, 0,0, 6
14,87, 0,0, 6
14,88, 0,0, 6
-1,0, 0,0, 260

; Lava burst 1
[Begin Action 15]
-1,0, 0,0, 240
15,80, 0,0, 5
15,81, 0,0, 5
15,82, 0,0, 5
15,83, 0,0, 5
15,84, 0,0, 5
15,85, 0,0, 5
15,86, 0,0, 5
15,87, 0,0, 5
15,88, 0,0, 5
15,89, 0,0, 5
15,90, 0,0, 5
15,91, 0,0, 5
15,92, 0,0, 5
-1,0, 0,0, 360
15,60, 0,0, 5
15,61, 0,0, 5
15,62, 0,0, 5
15,63, 0,0, 5
15,64, 0,0, 5
15,65, 0,0, 5
15,66, 0,0, 5
15,67, 0,0, 5
15,68, 0,0, 5
-1,0, 0,0, 360
15,69, 0,0, 5
15,70, 0,0, 5
15,71, 0,0, 5
15,72, 0,0, 5
15,73, 0,0, 5
15,74, 0,0, 5
15,75, 0,0, 5
15,76, 0,0, 5
15,77, 0,0, 5
15,78, 0,0, 5
15,79, 0,0, 5
15,67, 0,0, 5
15,68, 0,0, 5

; Right Panel lights
[Begin Action 20]
-1,0, 0,0, 2400
LoopStart
20,0, 0,0, 6, , AS64D256
20,1, 0,0, 6, , AS64D256
20,2, 0,0, 6, , AS64D256
20,3, 0,0, 6, , AS64D256
20,4, 0,0, 6, , AS64D256

; Bat >
[Begin Action 21]
21,1, 0,0, 4
21,2, 0,0, 4
21,3, 0,0, 4
21,4, 0,0, 4
21,5, 0,0, 4
21,4, 0,0, 4
21,3, 0,0, 4
21,2, 0,0, 4

; Bat <
[Begin Action 22]
21,1, 0,0, 4, H
21,2, 0,0, 4, H
21,3, 0,0, 4, H
21,4, 0,0, 4, H
21,5, 0,0, 4, H
21,4, 0,0, 4, H
21,3, 0,0, 4, H
21,2, 0,0, 4, H

