
;---------------------------------------------------------------------------
;Super Moves
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------------------------
;Thunder Bolt
[Statedef 1000]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
poweradd = 50
ctrl = 0
sprpriority = 2

[State 1000, Vari�vel de for�a]
type = VarSet
triggerall = !var(0)
trigger1 = Time = 0 && !AiLevel
v = 5
value = ifelse (command = "QCFz",2,(ifelse(command = "QCFy",1,0)))

[State 1000, Vari�vel de for�a]
type = VarSet
triggerall = AiLevel
trigger1 = Time = 0
v = 5
value = 0+random%3

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 1000+var(5)

[State 0, Explod]
type = Explod
trigger1 = Animelem = 1 && Pos Y = 0
anim = 6012
ID = 6012
pos = -30,10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = -0.2,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 30
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0



[State 3100, spark]
type = Explod
trigger1 = AnimElem = 3
anim = 1006
ID = 1006
postype = P1
pos = 40, -48
sprpriority = 200
ownpal = 1
bindtime = 60
removetime = 60
removeongethit = 1

[State 3100, Circle]
type = Explod
trigger1 = AnimElem = 3
anim = 306
ID = 306
postype = P1
pos = 22,-42
sprpriority = 25
ownpal = 1
supermovetime = 0
bindtime = -1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 3
helpertype = normal
name = "Thunder Beam"
ID = 1005
stateno = 1005
pos = 31, -48
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale= Ifelse(Var(5)=2,1,(ifelse(Var(5)=1,0.75,0.6)))
size.yscale=Ifelse(Var(5)=2,1,(ifelse(Var(5)=1,0.75,0.6)))

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S1,4
channel = 0

[State 1000, 1.2]
type = PlaySnd
trigger1 = AnimElem = 2
value = s5,0


[State 620, 2]
type = PalFX
trigger1 = Time = [7, 9] ;3
add = 120,120,255
time = 1

[State 620, 3]
type = PalFX
trigger1 = Time = [10, 12] ;3
add = 80,80,256
time = 1

[State 620, 4]
type = PalFX
trigger1 = Time = [13, 16] ;4
add = 50,50,155
time = 1

[State 620, 5]
type = PalFX
trigger1 = Time = [17, 19] ;3
add = 20,20,95
time = 1

[State 1000, Fim]
type = ChangeState
trigger1 = var(5)=0 && time = 22
trigger2 = var(5)=1 && time = 40
trigger3 = var(5)=2 && time = 60
value = 1010
ctrl = 0

;---------------------------------------------------------------------------
; Thunder Bold end
[Statedef 1010]
type    = S
movetype= A
physics = N
poweradd= 15
anim = 1010
ctrl = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 1006

[State 1000, Fim]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Thunder Helper
[Statedef 1005]
type    = S
movetype= A
physics = N
poweradd= 15
anim = 1005
ctrl = 0
sprpriority = 25

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 25
ignorehitpause = 1
persistent = 1


[State 0, BindToRoot]
type = BindToRoot
trigger1 =1 
;time = 1
;facing = 0
pos = 31, -48
ignorehitpause = 
;persistent = 


[State 1000, 1.2]
type = PlaySnd
trigger1 = !time; && random < 500
value = s1210,1+random%2
channel = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AT
time = 1

[State 1005, 5.1]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1 
flag = NoShadow
ignorehitpause = 1

[State 1005, 5.2]
type = HitOverride
trigger1 = (!Time)
slot = 0
time = -1
attr = SCA, AA, AP;, NA, NP, HP;, NT, HT
stateno = 1005

[State 1205, 1]
type = HitDef
trigger1 = !time
trigger2 = time%14 = 0
attr = S, SP
animtype = Heavy
damage = 25,8;floor(20/(1+(Var(32)/6.0)))+(root,var(5)*5),8
getpower = 28,8
givepower = 28,10
hitflag = MAF
priority = 4, Hit
guardflag = M
pausetime = 2,10
sparkno = S25010+random%2
sparkxy = 0,0
hitsound   = s6,0+random%2
guardsound = s8500,0
guard.sparkno = S25008
ground.type = Low
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = -7-(root,var(0)*2),-(root,var(0))
air.animtype = Back
air.velocity = -5,-3
air.juggle = 10
air.fall = 1
fall.recover = 0
envshake.time = 15
envshake.ampl = 7
fall.envshake.time = 15
fall.envshake.ampl = -7
palfx.time = 40
palfx.add = 100,100,250
palfx.mul = 200,200,256
palfx.sinadd = -100,-100,-80,4
palfx.color = 0;
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 1005

[State -2, electric spark]
type = Explod
trigger1 = moveHit && NumExplod(427) <2
Anim = 427
id = 427
postype = p2
pos = 0,-45
ownpal = 1
sprpriority = 100
bindtime = -1
ignorehitpause = 1
removetime = 25

[State 1051, hit-elec]
type = Helper
triggerall = p2stateno = [5000,5999]
trigger1 =  numtarget && MoveHit
name = "Pegando choque"
ID = 9103
stateno = 9103
postype = P2
pos = 0,-40
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
size.ground.front = 0
size.ground.back = 0
persistent = 0

[State 195,1]
type = Explod
trigger1 = time%3=0;&& time <60
anim = 500+random%3
postype = p1
pos = 100,0
ownpal = 1
bindtime = 1
sprpriority = 5
removetime = -2
random = 150,30
removeongethit = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Time = 42
trigger2 = root,MoveType = H
trigger3 = root,Stateno != 1000;[1000,1010]
ignorehitpause = 1

;---------------------------------------------------------------------------------------------
;ZAP!
[Statedef 1100]
Type = A
Movetype = A
Physics = A
ctrl = 0
anim = 1100
juggle  = 4

[State 3100, Circle]
type = Explod
trigger1 = Time%2=0
anim = 9103
ID = 9103
postype = P1
pos = 0,-40
random = 15,30
sprpriority = 25
ownpal = 1
supermovetime = 0
scale = 0.2,0.2
;accel = -0.2,0

[State 1000, Vari�vel de for�a]
type = VarSet
triggerall = !Var(0)
trigger1 = Time = 0
v = 5
value = ifelse(var(0),2,(ifelse (command = "QCFc",2,(ifelse(command = "QCFb",1,0)))))
ignorehitpause = 1

[State 0, PosFreeze]
type = PosFreeze
trigger1 = AnimElem = 1

[State 2200, 3]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 2

[State 0, VelAdd]
type = VelAdd
trigger1 = AnimElem = 3
x = (4+Var(5)+Var(5))*2
y = 5+Var(5)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S54,17

[State 1100, HitDef]
type = HitDef
trigger1 = !Time
attr = A,SA
damage = 70+(var(5)*10),5+(var(5)*5)
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 7, Hit
pausetime = 12,12
sparkno = s2452
sparkxy = -10, -20
guard.sparkno = S25008
hitsound   = s6,0+random%2
guardsound = s8500,0
ground.type = High
ground.slidetime = 10
ground.hittime = 10
ground.velocity = -10,-1
fall = 1
air.type = Low
air.hittime = 3
air.velocity = -5,0
palfx.time = 40
palfx.add = 100,100,250
palfx.mul = 200,200,256
palfx.sinadd = -100,-100,-80,4
palfx.color = 0;
envshake.time = 10
envshake.ampl = 5
fall.envshake.time = 10
fall.envshake.ampl = -5

[State 0, ChangeState]
type = ChangeState
trigger1 = moveHit
value = 1101

[State -2, electric spark]
type = Explod
trigger1 = moveHit && NumExplod(427) <2
Anim = 427
id = 427
postype = p2
pos = 0,-45
ownpal = 1
sprpriority = 100
bindtime = -1
ignorehitpause = 1
removetime = 25

[State 1051, hit-elec]
type = Helper
triggerall = p2stateno = [5000,5999]
trigger1 =  numtarget && MoveHit
name = "Pegando choque"
ID = 9103
stateno = 9103
postype = P1
pos = 53,-22
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
size.ground.front = 0
size.ground.back = 0
persistent = 0

[State 8510, Explode]
type = Explod
trigger1 = AnimElem = 3
anim = 2101;451
ID = 451
postype = P1
pos = 46,-15;-3,-16
sprpriority = 50
bindtime = -1
ownpal = 1
removetime = 7
removeongethit = 1

[State 1100, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; RUN_BACK
[Statedef 1101]
type    = A
physics = A
ctrl = 0
anim = 1101
sprpriority = 1

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106

;---------------------------------------------------------------------------------------------
;3 Way Beam
[Statedef 1200]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd = 50
anim = 1200
ctrl = 0
sprpriority = 2

[State 1000, Vari�vel de for�a]
type = VarSet
triggerall = !var(0)
trigger1 = Time = 0
v = 5
value = ifelse (command = "QCFz",2,(ifelse(command = "QCFy",1,0)))

[State 0, VelMul]
type = VelMul
trigger1 = AnimElemTime(6) < 0
x = .75
y = .75

[State 0, VelSet]
type = VelSet
trigger1 = pos Y >= 0
trigger1 = vel Y >= 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos Y >= 0
trigger1 = vel Y >= 0
y = 0

[State 195,1]
type = Explod
trigger1 = time%4=0 && time = [5,30]
anim = 500+random%3
postype = p1
pos = 37,-61
ownpal = 1
bindtime = 1
sprpriority = 5
removetime = -2
random = 50,50
removeongethit = 1

[State 195,1]
type = Explod
trigger1 = animelem = 2
anim = 9105
id = 9105
postype = p1
pos = 37,-61
ownpal = 1
bindtime = -1
sprpriority = 5
persistent = 0
removetime = 25
removeongethit = 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,0
channel = 0

[State 1000, 1.2]
type = PlaySnd
trigger1 = AnimElem = 2
value = s2,2

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 3
helpertype = normal ;player
name = "eletric ball"
ID = 300
stateno = 300
pos = 45,-63
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 3
helpertype = normal ;player
name = "eletric ball down"
ID = 301
stateno = 301
pos = 45,-63
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 3
helpertype = normal ;player
name = "eletric ball up"
ID = 302
stateno = 302
pos = 45,-63
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 3100, Spark]
type = Explod
trigger1 = AnimElem = 3
anim = 428
ID = 428
postype = P1
pos = 29,-63
sprpriority = 25
ownpal = 1
supermovetime = 0
bindtime = -1

[State 3100, Circle]
type = Explod
trigger1 = AnimElem = 3
anim = 306
ID = 306
postype = P1
pos = 29,-63
sprpriority = 25
ownpal = 1
supermovetime = 0
bindtime = -1

[State 620, 2]
type = PalFX
trigger1 = Time = [7, 9] ;3
add = 120,120,255
time = 1

[State 620, 3]
type = PalFX
trigger1 = Time = [10, 12] ;3
add = 80,80,256
time = 1

[State 620, 4]
type = PalFX
trigger1 = Time = [13, 16] ;4
add = 50,50,155
time = 1

[State 620, 5]
type = PalFX
trigger1 = Time = [17, 19] ;3
add = 20,20,95
time = 1

[State 1000, Fim]
type = ChangeState
trigger1 = !AnimTime
value = 50
ctrl = 0

;---------------------------------------------------------------------------------------------
;PS1 - Calling Strikers
[Statedef 1400]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
poweradd = 0
anim = 1400
ctrl = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = Animelem = 1 && Pos Y = 0
anim = 6012
ID = 6012
pos = -30,10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = -0.2,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 30
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0



[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,2

[State 1000, Vari�vel de for�a]
type = VarSet
triggerall = !var(0)
trigger1 = Time = 0
v = 5
value = ifelse (command = "QCFc",3,(ifelse(command = "QCFb",2,1)))

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "Eh nois truta!"
pos = -10, -60
postype = back
facing = 1
keyctrl = 0
ownpal = 1
ID = 1410;1400+(var(5)*10)
stateno = 1400+(var(5)*10)
sprpriority = 100

[State 1010, Fim]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;------------[ Dynamoman ]-----------------------------------
;Dynamo Man
[Statedef 1410]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 10,4
poweradd = 0
anim = 1410
ctrl = 0
sprpriority = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1100,1

[State 10000, 1]
type = HitOverride
trigger1 = 1
time = -1
attr = SCA, AA, AT, AP
slot = 0
stateno = 1412

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.25

[State 1010, Fim]
type = ChangeState
trigger1 = Pos Y >=0
value = 1411

; ----------------------
;Dynamo Attacking
[Statedef 1411]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
poweradd = 0
anim = 1411
ctrl = 0
sprpriority = 20

[State 8510, Explode]
type = Explod
trigger1 = !time
anim = 2456
ID = 8510
postype = P1
pos = 0,4
sprpriority = -1
ownpal = 1
scale = 1.4, 1.2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S2,2

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 3
helpertype = Normal ;Player
name = "Lighting Bolt"
ID = 1415
stateno = 1415
pos = 50,0
postype = P1    ;P2, Front, Back, Left, Right
facing = 1
keyctrl = 0
ownpal = 1

[State -3, Aterrisagem]
type = PlaySnd
trigger1 = !time
value = 8100,0

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 1821
ID = 1821
pos = 50,-40
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 45
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 25
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
;ignorehitpause = 
;persistent = 


[State 1010, Fim]
type = ChangeState
trigger1 = !AnimTime
value = 1413

; ----------------------
;Lightning Bolt Helper
[Statedef 1415]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
poweradd = 0
anim = 1415
ctrl = 0
sprpriority = 2

[State 0, PosAdd]
type = PosAdd
trigger1 = !time
x = 0+random%150
y = 0

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 3313
ID = 3313
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 15
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermovetime = 99999999
pausemovetime = 99999999

[State -2, electric spark]
type = Explod
trigger1 = moveHit && NumExplod(427) <2
Anim = 427
id = 427
postype = p2
pos = 0,-45
ownpal = 1
sprpriority = 100
bindtime = -1
ignorehitpause = 1
removetime = 25


[State 0, EnvShake]
type = EnvShake
trigger1 = !time
time = 10
ampl = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1415,0

[State 450, HitDef]
type = HitDef
trigger1 = time = 0
attr = A,SP
damage = 50,1
animtype = Heavy
hitflag = MAF
guardflag = MA
priority = 7, Hit
pausetime = 4,4
sparkno = s25010+random%2
sparkxy = -10, -50
guard.sparkno = S25008
hitsound   = s6,0+random%2
guardsound = s8500,0
ground.type = Hard
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -2.5,-8
air.type = Hard
air.hittime = 5
air.velocity = -2.5,-8
fall = 1
palfx.time = 40
palfx.add = 100,100,250
palfx.mul = 200,200,256
palfx.sinadd = -100,-100,-80,4
palfx.color = 0;
envshake.time = 10
envshake.ampl = 5
fall.envshake.time = 10
fall.envshake.ampl = -5


[State 195,1]
type = Explod
trigger1 = time%3=0
anim = 500+random%3
postype = p1
pos = 0,-100
ownpal = 1
bindtime = 1
sprpriority = 10
removetime = -2
random = 40,100
removeongethit = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 1828;1821
ID = 1821
pos = 0,10
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 30
supermovetime = 0
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 30
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
persistent = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Time = 30

; ----------------------
; Dynamo Man end
[Statedef 1413]
type    = S
movetype= A
physics = N
juggle  = 1
velset = -10,-6
poweradd = 0
anim = 1413
ctrl = 0
sprpriority = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1100,1

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.25

[State 0, DestroySelf]
type = DestroySelf
trigger1 = BackEdgeDist < -25

; ----------------------
; Dynamo Hurt
[Statedef 1412]
type    = S
movetype= A
physics = N
juggle  = 1
velset = -10,-6
poweradd = 0
anim = 1412
ctrl = 0
sprpriority = 100

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.25

[State 0, DestroySelf]
type = DestroySelf
trigger1 = BackEdgeDist < -25




















;---------------------------------------------
;Cloud Man - come
[Statedef 1420]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 4.5, 0 ;.98, 0
poweradd = 0
anim = 1420
ctrl = 0
sprpriority = 100

[State 18600, 0.1]
type = posset
trigger1 = !time
y = -120

[State 10000, 1]
type = HitOverride
trigger1 = 1
time = -1
attr = SCA, AA, AT, AP
slot = 0
stateno = 1422

[State 1010, Fim]
type = ChangeState
trigger1 = time = 30
value = 1421

;---------------------------------------------
;Cloud Man - Attacks
[Statedef 1421]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
poweradd = 0
anim = 1421
ctrl = 0
sprpriority = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S2,2

[State 0, 1]
type = Projectile
trigger1 = time = 7
trigger2 = time = 14
trigger3 = time = 21
ProjID = 1425
projanim = 1425
projhitanim = 426
projpriority = 5
projshadow = -1
projscale = 1,1
offset = -3, -22
velocity = 2*(-1*random%2)+(random%10),8
attr = S, NP
damage   = 35,8
animtype = heavy
guardflag = MA
hitflag = MAFD
pausetime = 10,10
hitsound   = s6,0+random%2
sparkno = S25010+random%2
sparkxy = 0,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -6
air.animtype = Back
air.velocity = -4,-6
air.juggle = 6
air.fall = 1
down.velocity = -4,-6
down.hittime = 30
down.bounce = 0
envshake.time = 10
envshake.ampl = 5
fall.envshake.time = 10
fall.envshake.ampl = -5
palfx.time = 40
palfx.add = 100,100,250
palfx.mul = 200,200,256
palfx.sinadd = -100,-100,-80,4
palfx.color = 0;
ownpal = 1
afterimage.time = 60
afterimage.length = 60
afterimage.palbright = 0,0,245
afterimage.palcontrast = 0,0,245
afterimage.timegap = 1
afterimage.framegap = 1
afterimage.trans = add


[State 620, 2]
type = PalFX
trigger1 = Time = [7, 9] ;3
add = 120,120,255
time = 1

[State 620, 3]
type = PalFX
trigger1 = Time = [10, 12] ;3
add = 80,80,256
time = 1

[State 620, 4]
type = PalFX
trigger1 = Time = [13, 16] ;4
add = 50,50,155
time = 1

[State 620, 5]
type = PalFX
trigger1 = Time = [17, 19] ;3
add = 20,20,95
time = 1

[State 1010, Fim]
type = ChangeState
trigger1 = !AnimTime
value = 1423

;---------------------------------------------
;Cloud Man - End
[Statedef 1423]
type    = S
movetype= A
physics = N
juggle  = 1
velset = -4.5,0
poweradd = 0
anim = 1423
ctrl = 0
sprpriority = 100

[State 0, DestroySelf]
type = DestroySelf
trigger1 = BackEdgeDist < -45

;---------------------------------------------
;Cloud Man - hurt
[Statedef 1422]
type    = S
movetype= A
physics = N
juggle  = 1
velset = -4,-6
poweradd = 0
anim = 1422
ctrl = 0
sprpriority = 100

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 45

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.25

[State 0, DestroySelf]
type = DestroySelf
trigger1 = BackEdgeDist < -45















;-----------------------------------------------
; Fuse Man
[Statedef 1430]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
poweradd = 0
anim = 1430
ctrl = 0
sprpriority = 12

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = Ceil(root, pos X+50*facing)
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S19300,0

[State 0, PalFXWiz]
type = PalFX
trigger1 = !time
time = 10
add = 255,255,255
mul = 256,256,256
invertall = 0
color = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 10
time = 30
add = 100,100,180
mul = 256,256,256
sinadd = -80,-80,-80,15
invertall = 0
color = 0

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 4530
ID = 4530
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 13
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermovetime = 99999999
pausemovetime = 99999999



[State 0, Explod]
type = Explod
trigger1 = !time
anim = 3313
ID = 3313
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 15
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1100,1

[State 10000, 1]
type = HitOverride
trigger1 = 1
time = -1
attr = SCA, AA, AT, AP
slot = 0
stateno = 1439

[State 1010, Fim]
type = ChangeState
trigger1 = Time = 20
value = 1431

; ---------------------- 
; Fuse Man attacking
[Statedef 1431]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
poweradd = 0
anim = 1431
ctrl = 0
sprpriority = 100

[State 0, PosSet]
type = PosSet
trigger1 = !time
y = 0

[State 8510, Explode]
type = Explod
trigger1 = !time
anim = 2456
ID = 8510
postype = P1
pos = 0,4
sprpriority = -1
ownpal = 1
scale = 1.4, 1.2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S2,2

[State -3, Aterrisagem]
type = PlaySnd
trigger1 = !time
value = 8100,0

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 1816
ID = 1816
pos = 0,-50
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 1435
ID = 1435
pos = 0,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 3
helpertype = Normal ;Player
name = "Thunder FX"
ID = 4533
stateno = 4533
pos = 0,-50
postype = P1    ;P2, Front, Back, Left, Right
facing = -1
keyctrl = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1432
ctrl = 0

; ---------------------- 
; Fuse Man attacking 2
[Statedef 1432]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
poweradd = 0
anim = 9999
ctrl = 0
sprpriority = 100

[state 195,3.1]
type = playsnd
trigger1 = !time
trigger2 = time = 20
value = 1820,0



[State 0, PosAdd]
type = PosAdd
trigger1 = !time
x = 200
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = Time = 20
x = -200
y = -120


[State 0, Explod]
type = Explod
trigger1 = !time
anim = 1816
ID = 1816
pos = 0,-50
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0


[State 0, Helper]
type = Helper
trigger1 = Time = 20
helpertype = Normal ;Player
name = "Thunder FX"
ID = 4533
stateno = 4532
pos = 0,0
postype = P1    ;P2, Front, Back, Left, Right
facing = -1
keyctrl = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = Time = 20
anim = 1816
ID = 1816
pos = 0,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Time = 60
;ignorehitpause = 
;persistent = 

; ----------------------
;Fuse Man hurt
[Statedef 1439]
type    = S
movetype= A
physics = N
juggle  = 1
velset = -10,-6
poweradd = 0
anim = 1439
ctrl = 0
sprpriority = 100

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.35

[State 0, DestroySelf]
type = DestroySelf
trigger1 = BackEdgeDist < -25

;---------------------------------------------------------------------------
;Iron knee
[Statedef 1500]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
poweradd = 50
anim = 1500
ctrl = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S54,17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S11,2

[State 1000, Vari�vel de for�a]
type = VarSet
triggerall = !AiLevel
trigger1 = Time = 0
v = 5
value = ifelse (command = "DPC",3,(ifelse(command = "DPB",2,0)))

[State 1000, Vari�vel de for�a]
type = VarSet
triggerall = AiLevel
trigger1 = Time = 0
v = 5
value = 0+random%2

[State 0, Explod]
type = Explod
trigger1 = Animelem = 1 && Pos Y = 0
anim = 6012
ID = 6012
pos = -30,10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = -0.2,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 30
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0


[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 3+var(5)
y = -6-var(5)

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = A

[State 0, VelAdd]
type = VelAdd
trigger1 = AnimElem = 3, >0
y = 0.35

[State 0, Explod]
type = Explod
trigger1 = AnimElem= 4
anim = 1515
ID = 1515
pos = 30,-62
postype = p1
bindtime = -1
removetime = -1
scale = 0.5,0.5
sprpriority = 20
ownpal = 1
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem= 6
id = 1515
;ignorehitpause =
;persistent =


[State 0, Explod]
type = Explod
trigger1 = AnimElem= 6
anim = 1516
ID = 1515
pos = 33,-58
postype = p1
bindtime = -1
removetime = -2
scale = 0.5,0.5
sprpriority = 20
ownpal = 1
removeongethit = 1


[State 1100, HitDef]
type = HitDef
trigger1 = !Time
attr = A,SA
damage = 70+(var(5)*10),5+(var(5)*5)
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 7, Hit
pausetime = 12,12
sparkno = s2452
sparkxy = -10, -20
guard.sparkno = S25008
hitsound   = s6,0+random%2
guardsound = s8500,0
ground.type = High
ground.slidetime = 10
ground.hittime = 10
ground.velocity = -5,-13
air.velocity = -5,-9
fall = 1
air.type = Low
air.hittime = 3
palfx.time = 40
palfx.add = 100,100,250
palfx.mul = 200,200,256
palfx.sinadd = -100,-100,-80,4
palfx.color = 0;
envshake.time = 10
envshake.ampl = 5
fall.envshake.time = 10
fall.envshake.ampl = -5

[State -2, electric spark]
type = Explod
trigger1 = moveHit && NumExplod(427) <2
Anim = 427
id = 427
postype = p2
pos = 0,-45
ownpal = 1
sprpriority = 100
bindtime = -1
ignorehitpause = 1
removetime = 25

[State 1051, hit-elec]
type = Helper
triggerall = p2stateno = [5000,5999]
trigger1 =  numtarget && MoveHit
name = "Pegando choque"
ID = 9103
stateno = 9103
postype = P1
pos = 53,-22
sprpriority = 3
bindtime = -1
ownpal = 1
ignorehitpause = 1
size.ground.front = 0
size.ground.back = 0
persistent = 0

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y >= 0 && Vel Y > 0
y = 0

[State 0, ChangeState]
type = ChangeState
triggerall = AiLevel && Power >=1000
trigger1 = MoveHit && random <= (500 * (AiLevel ** 2 / 64.0))
value = 3500
ctrl = 0
;anim =
;ignorehitpause = 
;persistent = 


[State 240, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && AnimElem = 2, >0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Spark Tower
[Statedef 1600]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
poweradd = 50
anim = 1600
ctrl = 0
sprpriority = 2

[State 1000, Vari�vel de for�a]
type = VarSet
triggerall = !AiLevel
trigger1 = Time = 0
v = 5
value = ifelse (command = "QCBz",150,(ifelse(command = "QCBy",100,50)))

[State 1000, Vari�vel de for�a]
type = VarSet
triggerall = AiLevel
trigger1 = Time = 0
v = 5
value = 50;0+(random%2)*20

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 6
helpertype = Normal ;Player
name = "Spark Tower"
ID = 1605
stateno = 1605 
pos = var(5),0
postype = P1    ;P2, Front, Back, Left, Right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5


[State 0, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------------------------
;TOWER HELPER 1
[Statedef 1605]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1605
sprpriority = 5

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1
persistent = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S19300,0

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 3313
ID = 3313
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 15
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 3312
pos = 0,10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0


[State 0, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 3312
pos = 0,10
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 450, HitDef]
type = HitDef
trigger1 = time = 0
attr = A,SP
damage = 80,1
animtype = Heavy
hitflag = MAF
guardflag = MA
priority = 7, Hit
pausetime = 4,4
sparkno = s25010+random%2
sparkxy = -10, -55
guard.sparkno = S25008
hitsound   = s6,0+random%2
guardsound = s8500,0
ground.type = Hard
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5,-8
air.type = Hard
air.hittime = 5
air.velocity = -5,-8
fall = 1
fall.recover = 0
palfx.time = 40
palfx.add = 100,100,250
palfx.mul = 200,200,256
palfx.sinadd = -100,-100,-80,4
palfx.color = 0;
envshake.time = 10
envshake.ampl = 7
fall.envshake.time = 10
fall.envshake.ampl =7

[State 0, EnvShake]
type = EnvShake
trigger1 = !time
time = 10
ampl = 7
;phase = 90
;ignorehitpause = 
;persistent = 


[State -2, electric spark]
type = Explod
trigger1 = moveHit && NumExplod(427) <2
Anim = 427
id = 427
postype = p2
pos = 0,-45
ownpal = 1
sprpriority = 100
bindtime = -1
ignorehitpause = 1
removetime = 25

[State 195,1]
type = Explod
trigger1 = time%3=0;&& time <60
anim = 500+random%3
postype = p1
pos = 0,-100
ownpal = 1
bindtime = 1
sprpriority = 5
removetime = -2
random = 30,100
removeongethit = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !AnimTime
;ignorehitpause = 


;---------------------------------------------------------------------------------------------
;THUNDER HELPER 1
[Statedef 4533]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 4533
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 450, HitDef]
type = HitDef
trigger1 = time = 0
attr = A,SP
damage = 50,1
animtype = Heavy
hitflag = MAF
guardflag = MA
priority = 7, Hit
pausetime = 4,4
sparkno = s25010+random%2
sparkxy = -10, 0
guard.sparkno = S25008
hitsound   = s6,0+random%2
guardsound = s8500,0
ground.type = Hard
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -2.5,-8
air.type = Hard
air.hittime = 5
air.velocity = -2.5,-8
fall = 1
palfx.time = 40
palfx.add = 100,100,250
palfx.mul = 200,200,256
palfx.sinadd = -100,-100,-80,4
palfx.color = 0;
envshake.time = 10
envshake.ampl = 5
fall.envshake.time = 10
fall.envshake.ampl = -5

[State -2, electric spark]
type = Explod
trigger1 = moveHit && NumExplod(427) <2
Anim = 427
id = 427
postype = p2
pos = 0,-45
ownpal = 1
sprpriority = 100
bindtime = -1
ignorehitpause = 1
removetime = 25

[State 0, Explod]
type = Explod
trigger1 = time%4=0; && vel X !=0
anim = 25007
ID = 25007
pos = 0,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !AnimTime
;ignorehitpause = 
;persistent = 

;---------------------------------------------------------------------------------------------
;THUNDER HELPER 2
[Statedef 4532]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 4532
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 450, HitDef]
type = HitDef
trigger1 = time = 0
attr = A,SP
damage = 50,1
animtype = Heavy
hitflag = MAF
guardflag = MA
priority = 7, Hit
pausetime = 4,4
sparkno = s25010+random%2
sparkxy = -10, 0
guard.sparkno = S25008
hitsound   = s6,0+random%2
guardsound = s8500,0
ground.type = Hard
ground.slidetime = 12
ground.hittime = 12
ground.velocity = 2,-8
air.type = Hard
air.hittime = 5
air.velocity = -5,10
fall = 1
palfx.time = 40
palfx.add = 100,100,250
palfx.mul = 200,200,256
palfx.sinadd = -100,-100,-80,4
palfx.color = 0;
envshake.time = 10
envshake.ampl = 5
fall.envshake.time = 10
fall.envshake.ampl = -5

[State -2, electric spark]
type = Explod
trigger1 = moveHit && NumExplod(427) <2
Anim = 427
id = 427
postype = p2
pos = 0,-45
ownpal = 1
sprpriority = 100
bindtime = -1
ignorehitpause = 1
removetime = 25

[State 0, Explod]
type = Explod
trigger1 = time%4=0; && vel X !=0
anim = 25007
ID = 25007
pos = 0,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !AnimTime
;ignorehitpause = 
;persistent = 