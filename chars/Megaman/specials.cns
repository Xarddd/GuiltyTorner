

;-------------------------------------------------------------------------
;Topspin
[Statedef 1100]
type    = A
movetype= A
physics = S
ctrl = 0
anim = 1100
poweradd = 25
hitcountpersist = 1
juggle = 9
velset = 0,0

[State 0, Explod]
type = Explod
trigger1 = !time && Pos Y =0
anim = 6011
ID = 6011
pos = 30,10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0.2,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 30
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0




[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 8
value = S8400,0
volume = 0
channel = -1
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 1100 && animelem = 2
value = S1200,0
volume = 0
channel = -1
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animElem = 2
value = S2,0

[State 0, Explod]
type = Explod
trigger1 = animelem = 2 && anim= 1100
anim = 6038
ID = 6038
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 2,0
accel = 0,0
random = 0,0
removetime = -2
scale = 1,.7
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 1000, Vari�vel de for�a]
type = VarSet
trigger1 =!time
v = 13
value = ifelse(command = "MegaUpperX",1,ifelse(command = "MegaUpperY",2,3))

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem=3
x = Var(13)*1.5
y = -4-var(13)*3


[State 0, VelSet]
type = VelSet
trigger1 = time = 28
x = 2

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S,SA       ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
;affectteam = E          ;B,E,F
animtype = hard          ;light,medium,hard,back,up,diagup
air.animtype = diagup
fall.animtype = light
priority = 4,Hit   ;Hit,Miss,Dodge
damage =  90,5
pausetime = 4,4
sparkno = S25010+random%2;0
guard.sparkno=S25008
sparkxy = var(42):=-10, var(43):=-45
hitsound = s8000,2
ground.type = High      ;Low,Trip,None
air.type = High
ground.slidetime = 12
ground.hittime = 20
air.hittime = 20
ground.velocity = -4,-var(13)*5.5
air.velocity = -1,-var(13)*3
fall = 1
numhits = 1
persistent = 1
envshake.time = 10
envshake.ampl = 7


[State 0, HitDef]
type = HitDef
trigger1 = var(13) = 1 &&AnimElem =4,>0 && time%10=0
trigger2 = var(13) = 2 &&AnimElem =4,>0 && time%8=0
trigger3 = var(13) = 3 &&AnimElem =4,>0 && time%6=0
attr = A,SA       ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
;affectteam = E          ;B,E,F
animtype = hard          ;light,medium,hard,back,up,diagup
air.animtype = diagup
fall.animtype = Hard
priority = 7,Hit   ;Hit,Miss,Dodge
damage =  10,3
pausetime = 4,4
sparkno = S25010+random%2;0
guard.sparkno=S25008
sparkxy = var(42):=-10, var(43):=-55
hitsound = s8000,2
ground.type = High      ;Low,Trip,None
air.type = High
ground.slidetime = 12
ground.hittime = 20
air.hittime = 20
ground.velocity = -4,-var(13)*5.5
air.velocity = -1,-var(13)*3
fall = 1
numhits = 1
persistent = 1
envshake.time = 10
envshake.ampl = 7


[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = var(16)=1
statetype = A       ;S,A,C,L
movetype = A        ;I,A,H
physics = A         ;A,C,S,N




;-------------------------------------------------
;Buster Shot
[Statedef 1300]
type    = A
movetype= A
physics = S
ctrl = 0
anim =  ifelse (var(16)=0,1300,1301)
juggle  = 4
sprpriority = 1

[State 0, Explod]
type = Explod
trigger1 = !time && Pos Y =0
anim = 6012
ID = 6012
pos = -30,10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = -0.2,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 30
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(25) =4 && var(16) = 0
value = 1302
persistent =  0


[State 0, Explod]
type = Explod
triggerall = var(16)=0
triggerall = anim != 1302
trigger1 = animelem = 5
anim =  6024
ID =  6024
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 1,1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0



[State 0, Explod]
type = Explod
trigger1 = animelem = 5 && var(25)=4
anim =  6008
ID =  6008
pos = 44,-45
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .7,.7
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0



[State 0, Explod]
type = Explod
triggerall = var(25) = 6
trigger1 = var(16) = 0 && animelem = 5
trigger2 = var(16) = 1 && animelem = 3
anim =6015
ID = 6015
pos = ifelse(var(16)=1,37,20),ifelse(var(16)=1,-55,-45)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 1,1
sprpriority = 2
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = var(25) = 5
trigger1 = animelem = 5
anim =6014
ID = 6014
pos = 20,-45
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.5,0.5
sprpriority = 2
shadow = 0,0,0
ownpal = 0
removeongethit = 0



[State 0, EnvColor]
type = null
triggerall = var(16)=0
trigger1 = animelem = 5
value = 255,255,255
time = 3
;under = 0
ignorehitpause =1
persistent =  0

[State 0, EnvColor]
type = null;EnvColor
triggerall = var(16)=1
trigger1 = animelem = 3
value = 255,255,255
time = 3
;under = 0
ignorehitpause =1
persistent =  0

[State 0, VelSet]
type = VelSet
trigger1 =  var(16)=1
x = ifelse (vel x >=1,.5,-.5)
y = 0

[State 0, VelSet]
type = VelSet
trigger1 =  var(16)=0 && var(25)=6 && animelem = 5
x = -10

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = var(16) = 1
statetype = A       ;S,A,C,L
movetype = A        ;I,A,H
physics = N         ;A,C,S,N



[State 0, Helper]
type = Helper
triggerall = var(16)
trigger1 = var(16) = 0 && animelem = 5
trigger2 = var(16) = 1 && animelem = 3
helpertype = normal ;player
name = "BusterShot"
ID = 1300
stateno = ifelse(var(25)=6,1301,ifelse(var(25)=5,1303,1302))
pos = 43,-55
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale =ifelse(var(25)=4,.4,ifelse(var(25)=5,.7,1))
size.yscale =ifelse(var(25)=4,.4,ifelse(var(25)=5,.7,1))
persistent =  0

[State 0, Helper]
type = Helper
triggerall = !var(16)
trigger1 = var(16) = 0 && animelem = 5
trigger2 = var(16) = 1 && animelem = 3
helpertype = normal ;player
name = "BusterShot"
ID = 1300
stateno = ifelse(var(25)=6,1301,ifelse(var(25)=5,1303,1302))
pos = ifelse(var(25)=4,63,43),-45
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale =ifelse(var(25)=4,.4,ifelse(var(25)=5,.7,1))
size.yscale =ifelse(var(25)=4,.4,ifelse(var(25)=5,.7,1))
persistent =  0


[State 1122, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = ifelse(var(16)=0,0,50)
ctrl = 1

;---------------------------------------------------------------------------
;HARD Buster Shot Helper
[Statedef 1301]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 6004
juggle  = 4
sprpriority = 5
poweradd = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,12

[State 100, NEW DASH FX FWD]
type = Explod
Anim = 25025+random%2;ifelse(random >=500,8050,8051)
triggerall = vel X > 0
trigger1 = random < 400 
postype = P1
pos = -15,0
random = 10,45
ownpal = 1
scale = (ifelse(random <=500,1,0.5)),(ifelse(random <=500,1,0.5))
sprpriority = (ifelse(random <=500,10,-10))
vel = -(const(velocity.run.fwd.x)/2)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S1000,3

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
x = 7
y = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = !time
time = -1
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
invertall = 0
color = 0
ignorehitpause = 1

[State 220, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NP
damage = 100,10
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 8,8
sparkno = S25010+random%2;0
sparkxy = 0, 0
guard.sparkno=S25008
hitsound = S8000,2
guardsound = S8500,0
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -10,-4
air.type = Low
air.hittime = 18
air.velocity = -6,7
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
envshake.time = 10
envshake.ampl = 7
fall = 1


[State 1201, hitoverride]
type=hitoverride
trigger1=1
time=-1
attr=SCA,NP,SP,HP
stateno=1501
ignorehitpause=1

[State 1055,hitby]
type=hitby
trigger1=1
time=-1
value=SCA,NP,SP,HP
ignorehitpause=1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 100
trigger2 = movecontact = 1




;-----------------------------------------------------------------------------
;Small Shot Helper
[Statedef 1302]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 6004
juggle  = 4
sprpriority = 3
hitcountpersist = 1
poweradd = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1200,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,10

[State 100, NEW DASH FX FWD]
type = Explod
Anim = 25025+random%2;ifelse(random >=500,8050,8051)
triggerall = vel X > 0
trigger1 = random < 400 
postype = P1
pos = -15,0
random = 10,15
ownpal = 1
scale = (ifelse(random <=500,0.5,0.25)),(ifelse(random <=500,0.5,0.25))
sprpriority = (ifelse(random <=500,10,-10))
vel = -(const(velocity.run.fwd.x)/2)

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 1
time = -1
add = 200,0,0
mul = 200,200,50
sinadd = 50,50,0,10
invertall = 0
color = 0
ignorehitpause = 1
 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
x = 4
y = 0


[State 220, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NP
damage = 60,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 8,8
sparkno = S25010+random%2;0
sparkxy = 0, 0
guard.sparkno=S25008
hitsound = S8000,2
guardsound = S8500,0
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -10
air.type = low
air.hittime = 18
air.velocity = -6,3
air.animtype = Light
envshake.time = 10
envshake.ampl = 7

[State 1201, hitoverride]
type=hitoverride
trigger1=1
time=-1
attr=SCA,NP,SP,HP
stateno=1501
ignorehitpause=1

[State 1055,hitby]
type=hitby
trigger1=1
time=-1
value=SCA,NP,SP,HP
ignorehitpause=1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 100
trigger2 = movecontact = 1



;-----------------------------------------------------------------------------
;MEDIUM Buster Shot Helper
[Statedef 1303]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 6004
juggle  = 4
sprpriority = 5
poweradd = 25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,11

[State 100, NEW DASH FX FWD]
type = Explod
Anim = 25017+random%2;ifelse(random >=500,8050,8051)
triggerall = vel X > 0
trigger1 = random < 400 
postype = P1
pos = -15,0
random = 10,25
ownpal = 1
scale = (ifelse(random <=500,1,0.5)),(ifelse(random <=500,1,0.5))
sprpriority = (ifelse(random <=500,10,-10))
vel = -(const(velocity.run.fwd.x)/2)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S1000,5

persistent =1

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
x = 5
y = 0


[State 220, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NP
damage = 70,10
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 8,8
sparkno = S25010+random%2;0
sparkxy = 0, 0
guard.sparkno=S25008
hitsound = S8000,2
guardsound = S8500,0
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -10
air.type = Low
air.hittime = 18
air.velocity = -6,7
envshake.time = 10
envshake.ampl = 7

[State 1201, hitoverride]
type=hitoverride
trigger1=1
time=-1
attr=SCA,NP,SP,HP
stateno=1501
ignorehitpause=1

[State 1055,hitby]
type=hitby
trigger1=1
time=-1
value=SCA,NP,SP,HP
ignorehitpause=1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 60
trigger2 = movecontact = 1


;-----------------------------------------------------------------------------
;Best Foot First
[Statedef 1400]
type    = A
movetype= A
physics = S
ctrl = 0
anim = 1400
juggle  = 4
sprpriority = 3
poweradd = 25

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 4
statetype = A       ;S,A,C,L
physics = A         ;A,C,S,N

[State 0, AfterImage]
type = AfterImage
trigger1 = animelem = 4
time = 30
length = 20

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0


[State 0, VelSet]
type = VelSet
trigger1 = animelem = 5
x = ifelse (var(25)=1,5,ifelse(var(25)=2,10,17))
y = 10
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S11,4


[State 0, HitDef]
type = HitDef
trigger1 = animelem = 5
attr = A,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAFD        ;HLAFD+-
guardflag = MA         ;HLA
animtype = hard          ;light,medium,hard,back,up,diagup
air.animtype = hard
priority = 4,Hit   ;Hit,Miss,Dodge
damage = 100,10
pausetime = 10,0
sparkno = S25010+random%2;0
sparkxy = var(42):=5, var(43):=0
guard.sparkno= S25008
hitsound = s8000,2
guardsound = s8500,0
ground.type = High      ;Low,Trip,None
ground.slidetime = 0
ground.hittime = 20
air.hittime = 20
ground.velocity = -7,-2
air.velocity = -4,2
fall.yvelocity = -4.5
fall.recover = 1
fall.recovertime = 4
fall.damage = 0
down.bounce = 0
envshake.time = 7
envshake.ampl = 4
fall = var(25)=3

[State 0, Explod]
type = Explod
triggerall = Anim !=1401
trigger1 = Time > 20 && Time%3=0
anim = 1402
ID = 1402 
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = movecontact
value = 1401
ignorehitpause = 0
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 = movecontact
x = -3
y = -5
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 50
ctrl = 1

;----------------------------------------------------------------
;Hadoken
[Statedef 1500]
type    = A
movetype= A
physics = S
ctrl = 0
anim =  1500
juggle  = 4




[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal ;player
name = "Hadoken"
ID = 1501
stateno = 1501
pos = 30,-45
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = .7
supermove
pausemove

[State 0, Ground Flash]
type = Explod
trigger1 = animelem = 3
anim = 6666
ID = 6666
pos = 30,17
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = .4,.4
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0







[State 0, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1


;anim =




;---------------------------------------
;Hadoken Helper
[Statedef 1501]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 6037
juggle  = 4
sprpriority = 3
poweradd = 25

[State 3303, Trans]
type=trans
trigger1= 1
trans=addalpha
alpha=256,256
ignorehitpause=1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S1500,0
volume = 0
channel = -1
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0
;abspan =

persistent =1

[State 0, VelSet]
type = VelSet
trigger1 =time =1
x = ifelse (parent,var(25)=4,3,ifelse(parent,var(25)=5,6,10))
y = 0
persistent = 0


[State 0, Explod]
type = Explod
trigger1 = animelemtime(2) = 4
anim = 6037
ID = 6037
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
supermove
pausemove
scale = .7,.7
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1

persistent =0


[State 220, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA
damage = 50,5
animtype = Heavy
guardflag = MA
hitflag = MAFDH
priority = 4, Hit
pausetime = 0,14
sparkno = S25010+random%2;0
sparkxy = 0, 0
guard.sparkno=S25008
hitsound = s8000,3
guardsound = S8500,0
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -10
air.type = Low
air.hittime = 18
air.velocity = -6,-7
envshake.time = 2
envshake.ampl = 2

[State 1201, hitoverride]
type=hitoverride
trigger1=1
time=-1
attr=SCA,NP,SP,HP
stateno=1502
ignorehitpause=1

[State 1055,hitby]
type=hitby
trigger1=1
time=-1
value=SCA,NP,SP,HP
ignorehitpause=1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 60
trigger2 = movecontact = 1
value = 1502
ctrl = 0
;anim =



;---------------------------------
;Hadoken Cleanup
[Statedef 1502]
type    = S
movetype= A

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =1
id = 6037



[State 0, DestroySelf]
type = DestroySelf
trigger1 = 1




;-----------------------------------
;Protoshield Deflect State
[Statedef 1600]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1600
juggle  = 4
sprpriority = 3
poweradd = 25


[State 0, Helper]
type = Helper
trigger1 =time = 0
helpertype = normal ;player
name = "Shield"
ID = 1601
stateno = 1601
pos = 30,-45
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermove = 9999999999999
pausemove = 9999999999999
;size.xscale (float)
;size.yscale (float)
;size.ground.back (int)
;size.ground.front (int)
;size.air.back (int)
;size.air.front (int)
;size.height (int)
;size.proj.doscale (int)
;size.head.pos (int,int)
;size.mid.pos (int,int)
;size.shadowoffset (int)



[State 1600, hitoverride]
type=hitoverride
trigger1 = 1
trigger1 = power >=1000
time=1
attr=SCA,NA,SA,HA
stateno= 1604
ignorehitpause=1

[State 0, HitBy]
type = HitBy
trigger1 = 1
trigger1 = power >=1000
value = SCA,NA,SA,HA
;value2 = S,NA
time = 1




[State 0, ChangeState]
type = ChangeState
trigger1 = !animtime
value =  0
ctrl = 1
;anim =




;--------------------------------------
;Protoshield Def
[Statedef 1601]
type    = A
movetype= I
physics = S
ctrl = 0
anim = 1601
sprpriority = 5

[State 0, BindToParent]
type = BindToParent
trigger1 = parent,animelem = 3
time = -1
;facing = 0
pos = 35,-45



[State 0, BindToParent]
type = BindToParent
trigger1 = parent,animelem = 4
time = -1
;facing = 0
pos = 40,-44




[State 1601, hitoverride]
type=hitoverride
trigger1=1
time=1
attr=SCA,NP,SP,HP
stateno=1602
ignorehitpause=1

[State 1055,hitby]
type=hitby
trigger1=1
time=1
value=SCA,NP,SP,HP
ignorehitpause=1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
trigger2 = parent,stateno != 1600




;----------------------------------------------
;Protoshield Deflect
[Statedef 1602]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1602
sprpriority = 5

[State 0, PalFX]
type = PalFX
trigger1 = time = 1
time = 2
add = 255,255,255
mul = 256,256,256
;sinadd = 0,0,0,10
invertall = 0
color = 256



[State 0, BindToParent]
type = BindToParent
trigger1 = time = 1
time = -1
;facing = 0
pos = 40,-44



[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1600,0
volume = 0
channel = -1
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0
;abspan =




[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "shot"
ID = 1603
stateno =1603
pos = 10,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermove
pausemove


[State 1601, hitoverride]
type=hitoverride
trigger1=1
time=1
attr=SCA,NP,SP,HP
stateno=1602
ignorehitpause=0

[State 1055,hitby]
type=hitby
trigger1=1
time= 1
value=SCA,NP,SP,HP
ignorehitpause=0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
trigger2 = parent,stateno != 1600
ignorehitpause = 1


;--------------------------------------------------------
[Statedef 1603]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1603
juggle  = 4
sprpriority = 3
hitcountpersist = 1
poweradd = 10

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
x = 7
y = 0


[State 220, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA
damage = 15,1
animtype = Light
guardflag = MA
hitflag = MAFDH
priority = 4, Hit
pausetime = 0,30
sparkno = S25010+random%2;0
sparkxy = 0, 0
guard.sparkno=S25008
hitsound = 5,4
guardsound = S8500,0
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -10
air.type = low
air.hittime = 18
air.velocity = -6,-3
air.animtype = Light
envshake.time = 2
envshake.ampl = 2


[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 100
trigger2 = movecontact = 1




;--------------------------------------------------
;Shield Dash
[Statedef 1604]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 1604
juggle  = 5

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = -1000

[State 0, SuperPause]
type = SuperPause
trigger1 =time = 0
time = 30
anim = -1
sound = s8888,0
pos = 20,-50
move =
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 1
;endcmdbuftime = (winmugen only)
;pausebg =  (winmugen only)




[State 0, Explod]
type = Explod
trigger1 =  time = 0
anim =6035
ID = 6035
pos = 30,-85
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove = 999
pausemove = 999
scale = 1,1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0





[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
getpower = 0,0
givepower = 15,5
;affectteam = E          ;B,E,F
animtype = light          ;light,medium,hard,back,up,diagup
air.animtype = light
;fall.animtype = Back
priority = 4,Hit   ;Hit,Miss,Dodge
damage = 10,0
pausetime = 3,10
;guard.pause,0
sparkno = -1 * (var(40):=8020)**0
sparkxy = var(42):=-40, var(43):=-40
hitsound = s8000,2
guardsound = s8500,0
ground.type = High      ;Low,Trip,None
;air.type = High
ground.slide = 20
;guard.slide = 0
ground.hit = 20
;guard.hit = 0
air.hittime = 20
ground.velocity = -5,-2
air.velocity = -5,0
sprpriority = 1
p1getp2facing = 0
fall = 0
fall.yvelocity = -4.5
fall.recover = 1
fall.recovertime = 4
fall.damage = 0
down.bounce = 0

[State 0, Explod]
type = Explod
trigger1 =  time = 0
anim = 1605
ID = 1605
pos = 35,-35
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
supermove
pausemove
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1



[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 28
ID = 1605
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
supermove
pausemove
scale = 1,1
sprpriority = 0



[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1600,0
volume = 0
channel = -1
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0
;abspan =




[State 0, VelSet]
type = VelSet
trigger1 = ((anim = 1604)&&(animelem = 2))
x = 13
y = 0




[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =  time = 25 && var(16) !=1
value = 101
;elem = 1




[State 0, VelSet]
type = VelSet
trigger1 = ((anim = 101)&&(animelem= 1))
x = 1
y = 0




[State 1003, 5]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1

;-----------------------------------
;Ground Slide
[Statedef 1800]
type    = C
movetype= A
physics = N
ctrl = 0
anim = 1800
juggle  = 4
sprpriority = 3
poweradd = 25

[State 100, New Dash start fx]
type = Explod
trigger1 = AnimElem = 4
ID = 6088
anim = 6088
postype = p1
pos = 30,5
bindtime = 1
removetime = -2
vel = 0, 0
ownpal = 1
sprpriority = 5
removeongethit = 0

[State 100, New Dash dust]
type = Explod
trigger1 = Vel X > 0 && time%4=0
ID = 25007
anim = 25007
postype = p1
pos = 0,0
bindtime = 1
removetime = -2
vel = 0, 0
ownpal = 1
sprpriority = 5
removeongethit = 0
ignorehitpause = 1

[State 100, NEW DASH FX FWD]
type = Explod
Anim = 25017+random%2;ifelse(random >=500,8050,8051)
triggerall = vel X > 0
trigger1 = random < 400 
postype = P1
pos = 0,-25
random = 10,25
ownpal = 1
scale = (ifelse(random <=500,1,0.5)),(ifelse(random <=500,1,0.5))
sprpriority = (ifelse(random <=500,10,-10))
vel = -(const(velocity.run.fwd.x)/2)


[State 100, 3]
type = PlaySnd
trigger1 = AnimElem = 4
value = s40,0

[State 0, Explod]
type = Explod
trigger1 = !time && Pos Y =0
anim = 6012
ID = 6012
pos = -30,10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = -0.2,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 30
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time && random < 500
value = S1800,0

[State 0, VelAdd]
type = Velset
triggerall = prevstateno != [100,109]
trigger1 = time = 0
x = 0
[State 0, VelSet]
type = VelSet
trigger1 = prevstateno = [100,109]
y = 0
[State 0, PosSet]
type = PosSet
trigger1 = prevstateno = [100,109]
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=1
value = S11,4
volume = 0
channel = -1

[State 0, VelSet]
type = VelSet
trigger1 = time=8
x = 11
ignorehitpause = 1

[State 1800, VelAdd]
type = VelAdd
trigger1 = time > 8
x = -.3

[State 1800, VelSet]
type = VelSet
trigger1 = time>=36
x = 0

[State 1800, Explod]
type = Explod
triggerall = time = [7,28]
trigger1 = (time%3)=1
anim = 8500
ID = 8020
pos = -20,0
postype = p1  ;p2,front,back,left,right
bindtime = 1
vel = -2,0
accel = -.5,0
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = const(size.xscale),const(size.yscale)
sprpriority = -1
ownpal = 1
removeongethit = 0
ignorehitpause=0

[State 1800, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 750
value = SCA

[State 1800, hit]
type = hitdef
trigger1 = !time
attr = C,NA
damage = 70,10
animtype = Hard
guardflag = L
hitflag = MAF
priority = 4,Hit
pausetime = 12,12
sparkno = S25010+random%2;0
sparkxy = -10,-10
hitsound = s8000,2
guard.sparkno=S25008
guardsound = s8500,0
ground.type = Trip
ground.slidetime = 22
ground.hittime = 22
ground.velocity = 0,-6.5
air.velocity = ifelse(var(31)=3&&var(32)=0, -3, -6),-4.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.type = Low
air.hittime = 22
down.velocity = 0,-4
getpower = 0
yaccel = .65
fall = 1
envshake.time = 10
envshake.ampl = 7


[State 1800, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------- Integer variable list ----------------------

; var(1):= 190
;          195 - Taunt Selector
;          9741
;          9742
;          9743
;          6029 - Boomerang
;          6031 - ProtoShot Helper
; var(2):= 9741
;          9742
; var(3):= 9741
;          9742
;          3402 - Adapt Armor
; var(4):= 890
;          895
;          898
;          9741
;          9742
; var(6):= 9742
; var(7):= 9742
; var(8):= 9742
;          -2
; var(9):= 193
;          9741
;          9742
;          -2
;var(10):= -2
;          3400 - Rush Jet Adapt
;var(11):= 7000 - Beginning of the super jump
;          -2
;var(12):= 7001 - GO
;          -3
;          3000 - Astro Crush
;var(16):= -2
;var(17):= -2
;var(20):= -2
;var(21):= -2
;          -3
;var(23):= -3
;var(25):= -2
;var(28):= 3400 - Rush Jet Adapt
;var(30):= 860
;var(35):= 197
;          -2
;          1200 - Buster Change Anim
;          120010 - Buster Change Anim 2nd Set
;var(40):= -2
;          1604 - Shield Dash
;          3100 - Mega Thunder Clap
;          3300 - Hyper Megaman
;var(42):= 200
;          210 - Standing Medium Punch
;          220 - Standing Hard Punch
;          230
;          240
;          250
;          251 - Rockball Kick
;          400 - Crouching light punch
;          410
;          420
;          430
;          440
;          450 - Crouching strong kick
;          600
;          610
;          620
;          630
;          640 - Jumping medium kick
;          650 - Jumping strong kick
;          1100 - Topspin
;          1400 - Best Foot First
;          1604 - Shield Dash
;          3100 - Mega Thunder Clap
;          3300 - Hyper Megaman
;var(43):= 200
;          210 - Standing Medium Punch
;          220 - Standing Hard Punch
;          230
;          240
;          250
;          251 - Rockball Kick
;          400 - Crouching light punch
;          410
;          420
;          430
;          440
;          450 - Crouching strong kick
;          600
;          610
;          620
;          630
;          640 - Jumping medium kick
;          650 - Jumping strong kick
;          1100 - Topspin
;          1400 - Best Foot First
;          1604 - Shield Dash
;          3100 - Mega Thunder Clap
;          3300 - Hyper Megaman
;var(46):= -2
;var(50):= 193
;          199 - NEW Move around before match
;var(59):= 9741
;          9742
;          -2
;          -1

;---------------------- Float variable list ----------------------

;fvar(10):= -2
;fvar(12):= -2
;fvar(22):= -2
;fvar(30):= 816
;          1004 - Rush Bomb Helper
;          6020 - Rock Helper
;          6033 - Leaf Sheild Helper Bound
;          60330 - Leaf Sheild Helper Mobile
;          3101


